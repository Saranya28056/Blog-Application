<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/view.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>
<body>
   <div class="view">
   <div class="post-container">
         <% if(posts.length > 0) { %>
         <% for(let i=0;i<posts.length;i++){ %>
         <div class="box">
            <div class="icon">
              <button onclick="location.href='/edit?index=<%=i%>'"><i class="fa-regular fa-pen-to-square"></i></a>
              <button onclick="location.href='/delete?index=<%=i%>'"><i class="fa-solid fa-trash-can"></i></button>
            </div>
            <h2><%= posts[i].title %></h2><br>
             <img src="<%=posts[i].image %>" alt="Image" width="250" height="120"/>
         
            <p class="short-content">
                <%= posts[i].content.substring(0, 100) %> 
                <% if(posts[i].content.length > 100) { %>
                    <span class="dots">...</span>
                    <span class="full-content" style="display: none;"><%= posts[i].content.substring(100) %></span>
                <% } %>
            </p>

            
            <% if(posts[i].content.length > 100) { %>
                <button class="read-more"><i class="fa-solid fa-angle-down"></i> Read More</button>
            <% } %>
         </div>
         <% } %>
         <% } %>
   </div>
   <div class="add">
     <button onclick="location.href='create.html'" class="plus"><i class="fa-solid fa-plus"></i></button>
   </div>
</div>

<script src="/js/read_more.js"></script>
</body>
</html>
